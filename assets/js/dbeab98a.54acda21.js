"use strict";(globalThis.webpackChunkmicroservices_docs=globalThis.webpackChunkmicroservices_docs||[]).push([[41],{349:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"workflows","title":"Workflows","description":"This page describes the development workflow and best practises from inception to submission of merge requests. They make it easy to promote code changes to production, ensuring code quality and readability.","source":"@site/docs/workflows.md","sourceDirName":".","slug":"/workflows","permalink":"/chorally-docs/docs/workflows","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Workflows"},"sidebar":"tutorialSidebar","previous":{"title":"Software Architecture","permalink":"/chorally-docs/docs/architecture"},"next":{"title":"Shared Libraries","permalink":"/chorally-docs/docs/shared_libraries"}}');var t=i(4848),r=i(8453);const o={sidebar_position:3,title:"Workflows"},l="Workflows",a={},c=[{value:"1. Bug Reports &amp; Technical Support",id:"1-bug-reports--technical-support",level:2},{value:"Guidelines",id:"guidelines",level:3},{value:"2. Development Workflow",id:"2-development-workflow",level:2},{value:"Main Branches",id:"main-branches",level:3},{value:"Supporting Branches",id:"supporting-branches",level:3},{value:"Git Flow",id:"git-flow",level:3},{value:"Code Review Guidelines",id:"code-review-guidelines",level:3},{value:"Testing Strategy and QA Process",id:"testing-strategy-and-qa-process",level:3},{value:"Documentation and Knowledge Sharing",id:"documentation-and-knowledge-sharing",level:3},{value:"Definition of Done (DoD)",id:"definition-of-done-dod",level:3},{value:"3. Deployment",id:"3-deployment",level:2},{value:"Deploy Checklist",id:"deploy-checklist",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"workflows",children:"Workflows"})}),"\n",(0,t.jsx)(n.p,{children:"This page describes the development workflow and best practises from inception to submission of merge requests. They make it easy to promote code changes to production, ensuring code quality and readability."}),"\n",(0,t.jsx)(n.h2,{id:"1-bug-reports--technical-support",children:"1. Bug Reports & Technical Support"}),"\n",(0,t.jsx)(n.p,{children:"Chorally undertakes several measures to push product forward, providing the best customer experience possible. There are currenly 3 tiers of technical support, each with different levels of complexity."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Level 1"}),": Collects customer requests and data, conducts basic troubleshooting and solve common problems such as username and passwords issues, menu navigation, verification of hardware and software, installation issues, and setup."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Level 2"}),": Provides in-depth troubleshooting and backend analysis to determine what the client issue is, collect technical details and contextual data for further inspection."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Level 3"}),": The core engineering team leads the product development and provides solutions for a wide variety of technical problems when they arise and cannot be solved by Level 1/2."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"guidelines",children:"Guidelines"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For Level 1 and 2:"})," Bug reports MUST include steps to reproduce, application logs (trimmed at a specific timestamp), expected behavior, tenant name and URL, exact page/section where issue appeared and (optional) contextual data about who faced the issue with screenshots."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For Level 3:"})," Before jumping into a bugfix, make sure the issue has been throughly analize by Level 1/2 and they gave you all basic informations to proceed as quickly as possible into the resolution"]}),"\n",(0,t.jsx)(n.h2,{id:"2-development-workflow",children:"2. Development Workflow"}),"\n",(0,t.jsx)(n.h3,{id:"main-branches",children:"Main Branches"}),"\n",(0,t.jsx)(n.p,{children:"At any given point there are at least 2 active branches:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"main"})," is our stable branch with production-ready features. Every new push to main branch updates the staging environment."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"dev"})," is our playground where magic happens. Every new push to dev branch updates the development environment."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["But ",(0,t.jsx)(n.strong,{children:"no direct merges"})," to dev/main are allowed. You're expected to work on ",(0,t.jsx)(n.strong,{children:"parallel branches"})," regularly rebased and short-lived."]}),"\n",(0,t.jsx)(n.h3,{id:"supporting-branches",children:"Supporting Branches"}),"\n",(0,t.jsx)(n.p,{children:"Next to dev/main branches, we use a variety of branches to aid parallel development between team members, ease tracking of features, prepare for production releases and to push urgent bugfixes. Unlike the main ones, these branches have a limited life time, since they will be removed after the merge request is approved."}),"\n",(0,t.jsx)(n.p,{children:"We may use:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Feature branches"}),"\n",(0,t.jsx)(n.li,{children:"Release branches"}),"\n",(0,t.jsx)(n.li,{children:"Hotfix branches"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"git-flow",children:"Git Flow"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Always branch from ",(0,t.jsx)(n.strong,{children:"dev"})," unless explicitly instructed otherwise."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"One Merge Request = One Jira Ticket"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The Jira ticket ID must appear in the branch name, and the merge request title/description."}),"\n",(0,t.jsxs)(n.li,{children:["There are only 2 exceptions:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Hotfixes without a Jira ticket require an immediate follow-up ticket documenting the root cause and fix."}),"\n",(0,t.jsx)(n.li,{children:"Bulk refactors require a dedicated technical task in Jira to maintain traceability."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"clear branch naming"}),":","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"  feature/[ticket-number]-[short-description]\n  bugfix/[ticket-number]-[short-description]\n  hotfix/[ticket-number]-[short-description]\n"})}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Avoid long-living branches; keep changes small and focused."}),"\n",(0,t.jsxs)(n.li,{children:["Commit early, commit often, but ",(0,t.jsx)(n.strong,{children:"keep commit messages meaningful"}),' (avoid "fixes", "small change", "wip", ...)']}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Rebase your branch on dev before opening a PR to avoid noisy diffs."})}),"\n",(0,t.jsx)(n.li,{children:"Resolve conflicts locally; never push broken merge states."}),"\n",(0,t.jsx)(n.li,{children:"Delete branches after merge to keep repository clean."}),"\n",(0,t.jsx)(n.li,{children:"Do not commit secrets, large files, or environment-specific configs."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"code-review-guidelines",children:"Code Review Guidelines"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Code reviews are mandatory"}),". No merges without at least ",(0,t.jsx)(n.strong,{children:"1 peer review"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"when you're done with the development, create a MR to dev and send link for review"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Small PRs!"})," Aim for < 300 lines of diff whenever possible."]}),"\n",(0,t.jsxs)(n.li,{children:["Title MUST contain a reference to Jira Ticket (",(0,t.jsx)(n.code,{children:"SE-59: Linkedin Comments"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Description MUST contain a human readable changelog. For example:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"- Increased throughput of Kafka events by reducing latency of read/write operations\n- Tickets collection is now sorted alphabetically\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Verify locally before requesting review"}),".","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"We've all been there. Development ain't easy and sometimes little distractions are part of the process. But avoid wasting time of peers and potentially letting bugs leak into production by conducting end-to-end tests (be creative, use Postman)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Reviewers focus on: correctness, clarity, performance, security, and impact."}),"\n",(0,t.jsx)(n.li,{children:"After approval, the author merges the PR unless the team defines otherwise."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"testing-strategy-and-qa-process",children:"Testing Strategy and QA Process"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Every feature must include automated tests covering:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Unit tests for logic"}),"\n",(0,t.jsx)(n.li,{children:"Integration tests for external boundaries"}),"\n",(0,t.jsx)(n.li,{children:"End-to-end tests when workflows are impacted"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Use mocks for data structures you don't own (e.g., 3rd-party SDK internals)."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Maintain >80% coverage"})," as a guideline"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"QA validates in staging first; keep an eye on Jira for feedbacks on your tickets."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"No deployment allowed with failing tests"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"documentation-and-knowledge-sharing",children:"Documentation and Knowledge Sharing"}),"\n",(0,t.jsx)(n.p,{children:"Chorally architecture is complex and every decision in your codebase matters because it may impact performance of the entire ecosystem, or require adaption from other interconnected microservices."}),"\n",(0,t.jsx)(n.p,{children:"Even though small changes that don't affect workflow or external dependencies can be applied without approval from a senior engineer, make sure to inform others of your choice and keep documentation up to date. Doesn't matter how small the code change is... everything must be reflected in the documentation of that specific service."}),"\n",(0,t.jsx)(n.h3,{id:"definition-of-done-dod",children:"Definition of Done (DoD)"}),"\n",(0,t.jsx)(n.p,{children:'Use the following checklist for every bit of code you produce before hitting "Done" in Jira:'}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Is the requested Feature/Bugfix implemented?"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Are tests added?"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Is the documentation updated?"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Are there major lint/test/pipeline failures?"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Did I open a merge request to dev?"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Did I do end-to-end tests in the development environment?"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Should the configmap/secret in Kubernetes be updated?"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"3-deployment",children:"3. Deployment"}),"\n",(0,t.jsx)(n.p,{children:"We set up CI/CD in order to automatically:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"run linting, tests, security checks and build steps for every commit in dev/main branches"}),"\n",(0,t.jsx)(n.li,{children:"use environment variables from K8 resources (configMap, secrets)"}),"\n",(0,t.jsx)(n.li,{children:"CD to staging should be automatic after merge."}),"\n",(0,t.jsx)(n.li,{children:"CD to production should be automatic after tagging"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"deploy-checklist",children:"Deploy Checklist"}),"\n",(0,t.jsx)(n.p,{children:"To trigger a new deploy follow these steps:"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ",'Open a QA Tested Jira Ticket and click on "branches" to view list of services involved']}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Read Jira comments left from developers to see deployment instructions"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Open GitLab repositories and add new tag"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Wait for CI/CD deployment"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Monitor logs and metrics of each deployed service for at least 30 minutes post-deploy."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Ultimo aggiornamento: 2025-11-17"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);